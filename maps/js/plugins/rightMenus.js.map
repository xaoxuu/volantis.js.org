{"version":3,"sources":["js/plugins/rightMenus.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_regeneratorRuntime","exports","Op","Object","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","arg","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","RightMenus","defaultEvent","defaultGroup","messageRightMenu","volantis","GLOBAL_CONFIG","plugins","message","enable","rightmenu","corsAnywhere","rightmenus","options","urlRegx","imgRegx","initialMenu","fun","init","pjax","send","hideMenu","isReadModel","readMode","readClipboard","_readClipboard","_callee","clipboardText","_context","navigator","permissions","query","t0","clipboard","readText","window","clipboardRead","writeClipText","text","writeText","writeClipImg","_writeClipImg","_callee2","link","success","image","_context2","Image","crossOrigin","addEventListener","canvas","document","createElement","getContext","width","height","drawImage","toBlob","blob","write","ClipboardItem","e","src","concat","_x","_x2","_x3","insertAtCaret","elemt","startPos","selectionStart","endPos","selectionEnd","selection","focus","createRange","scrollTop","substring","rightMenuConfig","_rightMenuWrapper","getElementById","_rightMenuContent","_rightMenuList","querySelectorAll","_rightMenuListWithHr","_readBkg","_menuMusic","_backward","querySelector","_toggle","_forward","globalData","mouseEvent","isInputBox","selectText","inputValue","isLink","linkUrl","isMediaLink","mediaLinkUrl","isImage","isArticle","pathName","isReadClipboard","isShowMusic","statusCheck","globalDataBackup","assign","initEvent","elementAppend","contextmenu","menuEvent","parentNode","removeChild","readBkg","className","id","body","appendChild","menuPosition","event","mouseClientX","clientX","mouseClientY","clientY","screenWidth","documentElement","clientWidth","screenHeight","clientHeight","style","display","menuControl","menuWidth","offsetWidth","menuHeight","offsetHeight","showLeft","showTop","left","top","notice","menuNotic","console","globalDataSet","item","nodeName","firstElementChild","groupName","getAttribute","itemEvent","articleShowLink","every","start","elementHrItem","hide","nextElementSibling","_volantis$GLOBAL_CONF","getSelection","toString","target","tagName","toLowerCase","href","test","currentSrc","location","pathname","aplayer","RightMenuAplayer","APlayer","player","musicAlwaysShow","status","oncontextmenu","ctrlKey","stopPropagation","preventDefault","removeEventListener","eventName","RightMenusFunction","debug","VolantisApp","icon","iconPrefix","time","onclick","aplayerBackward","aplayerToggle","aplayerForward","NoticeRightMenu","localStorage","getItem","displayMode","setItem","copyText","utilWriteClipText","messageCopyright","copyLink","copyAll","select","copyPaste","_callee3","_context3","copyCut","statrPos","inputStr","copyImg","hideMessage","printMode","question","printHtml","DOMController","setAttribute","removeList","setStyleList","setTimeout","print","innerHTML","reload","ScrollReveal","clean","fadeToggleList","toggleClassList","setStyle","backgroundColor","hasClass","freeze","requestAnimationFrame","readyState"],"mappings":"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","file":"../../../js/plugins/rightMenus.js","sourcesContent":["\nconst RightMenus = {\n  defaultEvent: ['copyText', 'copyLink', 'copyPaste', 'copyAll', 'copyCut', 'copyImg', 'printMode', 'readMode'],\n  defaultGroup: ['navigation', 'inputBox', 'seletctText', 'elementCheck', 'elementImage', 'articlePage'],\n  messageRightMenu: volantis.GLOBAL_CONFIG.plugins.message.enable && volantis.GLOBAL_CONFIG.plugins.message.rightmenu.enable,\n  corsAnywhere: volantis.GLOBAL_CONFIG.plugins.rightmenus.options.corsAnywhere,\n  urlRegx: /^((https|http)?:\\/\\/)+[A-Za-z0-9]+\\.[A-Za-z0-9]+[\\/=\\?%\\-&_~`@[\\]\\':+!]*([^<>\\\"\\\"])*$/,\n  imgRegx: /\\.(jpe?g|png|webp|svg|gif|jifi)(-|_|!|\\?|\\/)?.*$/,\n\n  /**\n   * 加载右键菜单\n   */\n  initialMenu: () => {\n    RightMenus.fun.init();\n    volantis.pjax.send(() => {\n      RightMenus.fun.hideMenu();\n      if (volantis.isReadModel) RightMenus.fun.readMode();\n    })\n  },\n\n  /**\n   * 读取剪切板\n   * @returns text\n   */\n  readClipboard: async () => {\n    let clipboardText;\n    const result = await navigator.permissions.query({ name: 'clipboard-read' });\n    switch (result.state) {\n      case 'granted':\n      case 'prompt':\n        clipboardText = await navigator.clipboard.readText()\n        break;\n      default:\n        window.clipboardRead = false;\n        break;\n    }\n    return clipboardText;\n  },\n\n  /**\n   * 写入文本到剪切板\n   * @param {String} text\n   */\n  writeClipText: text => {\n    return navigator.clipboard\n      .writeText(text)\n      .then(() => {\n        return Promise.resolve()\n      })\n      .catch(err => {\n        return Promise.reject(err)\n      })\n  },\n\n  /**\n   * 写入图片到剪切板\n   * @param {*} link\n   * @param {*} success\n   * @param {*} error\n   */\n  writeClipImg: async (link, success, error) => {\n    const image = new Image;\n    image.crossOrigin = \"Anonymous\";\n    image.addEventListener('load', () => {\n      let canvas = document.createElement(\"canvas\");\n      let context = canvas.getContext(\"2d\");\n      canvas.width = image.width;\n      canvas.height = image.height;\n      context.drawImage(image, 0, 0);\n      canvas.toBlob(blob => {\n        navigator.clipboard.write([\n          new ClipboardItem({ 'image/png': blob })\n        ]).then(e => {\n          success(e)\n        }).catch(e => {\n          error(e)\n        })\n      }, 'image/png')\n    }, false)\n    image.src = `${link}?(lll￢ω￢)`;\n  },\n\n  /**\n   * 粘贴文本到剪切板\n   * @param {*} elemt\n   * @param {*} value\n   */\n  insertAtCaret: (elemt, value) => {\n    const startPos = elemt.selectionStart,\n      endPos = elemt.selectionEnd;\n    if (document.selection) {\n      elemt.focus();\n      var sel = document.selection.createRange();\n      sel.text = value;\n      elemt.focus();\n    } else {\n      if (startPos || startPos == '0') {\n        var scrollTop = elemt.scrollTop;\n        elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);\n        elemt.focus();\n        elemt.selectionStart = startPos + value.length;\n        elemt.selectionEnd = startPos + value.length;\n        elemt.scrollTop = scrollTop;\n      } else {\n        elemt.value += value;\n        elemt.focus();\n      }\n    }\n  }\n}\n\n/**\n * 事件处理区域\n */\nRightMenus.fun = (() => {\n  const rightMenuConfig = volantis.GLOBAL_CONFIG.plugins.rightmenus;\n\n  const\n    fn = {},\n    _rightMenuWrapper = document.getElementById('rightmenu-wrapper'),\n    _rightMenuContent = document.getElementById('rightmenu-content'),\n    _rightMenuList = document.querySelectorAll('#rightmenu-content li.menuLoad-Content'),\n    _rightMenuListWithHr = document.querySelectorAll('#rightmenu-content li, #rightmenu-content hr, #menuMusic'),\n    _readBkg = document.getElementById('read_bkg'),\n    _menuMusic = document.getElementById('menuMusic'),\n    _backward = document.querySelector('#menuMusic .backward'),\n    _toggle = document.querySelector('#menuMusic .toggle'),\n    _forward = document.querySelector('#menuMusic .forward');\n\n  // 公共数据\n  let globalData = {\n    mouseEvent: null,\n    isInputBox: false,\n    selectText: '',\n    inputValue: '',\n    isLink: false,\n    linkUrl: '',\n    isMediaLink: false,\n    mediaLinkUrl: '',\n    isImage: false,\n    isArticle: false,\n    pathName: '',\n    isReadClipboard: true,\n    isShowMusic: false,\n    statusCheck: false\n  }\n  const globalDataBackup = Object.assign({}, globalData);\n\n  /**\n   * 初始化监听事件处理\n   */\n  fn.initEvent = () => {\n    fn.elementAppend();\n    fn.contextmenu();\n    fn.menuEvent();\n  }\n\n  /**\n   * 预置元素设定\n   */\n  fn.elementAppend = () => {\n    // 阅读模式\n    if (_readBkg) _readBkg.parentNode.removeChild(_readBkg);\n    const readBkg = document.createElement(\"div\");\n    readBkg.className = \"common_read_bkg common_read_hide\";\n    readBkg.id = \"read_bkg\";\n    window.document.body.appendChild(readBkg);\n  }\n\n  /**\n   * 右键菜单位置设定\n   * @param {*} event\n   */\n  fn.menuPosition = (event) => {\n    try {\n      let mouseClientX = event.clientX;\n      let mouseClientY = event.clientY;\n      let screenWidth = document.documentElement.clientWidth || document.body.clientWidth;\n      let screenHeight = document.documentElement.clientHeight || document.body.clientHeight;\n\n      _rightMenuWrapper.style.display = 'block';\n      fn.menuControl(event);\n\n      let menuWidth = _rightMenuContent.offsetWidth;\n      let menuHeight = _rightMenuContent.offsetHeight;\n      let showLeft = mouseClientX + menuWidth > screenWidth ? mouseClientX - menuWidth + 10 : mouseClientX;\n      let showTop = mouseClientY + menuHeight > screenHeight ? mouseClientY - menuHeight + 10 : mouseClientY;\n      showTop = mouseClientY + menuHeight > screenHeight && showTop < menuHeight && mouseClientY < menuHeight ?\n        showTop + (screenHeight - menuHeight - showTop - 10) : showTop;\n      _rightMenuWrapper.style.left = `${showLeft}px`;\n      _rightMenuWrapper.style.top = `${showTop}px`;\n      if (volantis.GLOBAL_CONFIG.plugins.message.rightmenu.notice) fn.menuNotic();\n    } catch (error) {\n      console.error(error);\n      fn.hideMenu();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * 菜单项控制\n   * @param {*} event\n   */\n  fn.menuControl = (event) => {\n    fn.globalDataSet(event);\n    if (!!_menuMusic) _menuMusic.style.display = globalData.isShowMusic ? 'block' : 'none';\n    _rightMenuList.forEach(item => {\n      item.style.display = 'none';\n      const nodeName = item.firstElementChild.nodeName;\n      const groupName = item.firstElementChild.getAttribute('data-group');\n      const itemEvent = item.firstElementChild.getAttribute('data-event');\n      if (globalData.statusCheck || globalData.isArticle) {\n        switch (groupName) {\n          case 'inputBox':\n            if (globalData.isInputBox) {\n              item.style.display = 'block';\n              if (itemEvent === 'copyCut' && !globalData.selectText) item.style.display = 'none';\n              if (itemEvent === 'copyAll' && !globalData.inputValue) item.style.display = 'none';\n              if (itemEvent === 'copyPaste' && !globalData.isReadClipboard) item.style.display = 'none';\n            }\n            break;\n          case 'seletctText':\n            if (!!globalData.selectText) item.style.display = 'block';\n            break;\n          case 'elementCheck':\n            if (globalData.isLink || globalData.isMediaLink) item.style.display = 'block';\n            break;\n          case 'elementImage':\n            if (globalData.isImage) item.style.display = 'block';\n            break;\n          case 'articlePage':\n            if (globalData.isArticle) item.style.display = 'block';\n            break;\n          default:\n            item.style.display = nodeName === 'A'\n              ? globalData.isArticle && !globalData.statusCheck && rightMenuConfig.options.articleShowLink\n                ? 'block'\n                : 'none'\n              : 'block';\n            break;\n        }\n      } else if (nodeName === 'A' || RightMenus.defaultGroup.every(item => { return groupName !== item })) {\n        item.style.display = 'block';\n      }\n    })\n\n    // 执行外部事件\n    volantis.mouseEvent = event;\n    volantis.rightmenu.method.handle.start()\n\n    // 过滤 HR 元素\n    let elementHrItem = { item: null, hide: true };\n    _rightMenuListWithHr.forEach((item) => {\n      if (item.nodeName === \"HR\") {\n        item.style.display = 'block';\n        if (!elementHrItem.item) {\n          elementHrItem.item = item;\n          return;\n        }\n        if (elementHrItem.hide || elementHrItem.item.nextElementSibling.nodeName === \"hr\") {\n          elementHrItem.item.style.display = 'none';\n        }\n        elementHrItem.item = item;\n        elementHrItem.hide = true;\n      } else {\n        if (item.style.display === 'block' && elementHrItem.hide) {\n          elementHrItem.hide = false;\n        }\n      }\n    })\n    if (!!elementHrItem.item && elementHrItem.hide) elementHrItem.item.style.display = 'none';\n  }\n\n  /**\n   * 元素状态判断/全局数据设置\n   * @param {*} event\n   */\n  fn.globalDataSet = (event) => {\n    globalData = Object.assign({}, globalDataBackup);\n    globalData.mouseEvent = event;\n    globalData.selectText = window.getSelection().toString();\n\n    // 判断是否为输入框\n    if (event.target.tagName.toLowerCase() === 'input' || event.target.tagName.toLowerCase() === 'textarea') {\n      globalData.isInputBox = true;\n      globalData.inputValue = event.target.value;\n    }\n\n    // 判断是否允许读取剪切板\n    if (globalData.isInputBox && window.clipboardRead === false) {\n      globalData.isReadClipboard = false;\n    }\n\n    // 判断是否包含链接\n    if (!!event.target.href && RightMenus.urlRegx.test(event.target.href)) {\n      globalData.isLink = true;\n      globalData.linkUrl = event.target.href;\n    }\n\n    // 判断是否包含媒体链接\n    if (!!event.target.currentSrc && RightMenus.urlRegx.test(event.target.currentSrc)) {\n      globalData.isMediaLink = true;\n      globalData.mediaLinkUrl = event.target.currentSrc;\n    }\n\n    // 判断是否为图片地址\n    if (globalData.isMediaLink && RightMenus.imgRegx.test(globalData.mediaLinkUrl)) {\n      globalData.isImage = true;\n    }\n\n    // 判断是否为文章页面\n    if (!!(document.querySelector('#post.article') || null)) {\n      globalData.isArticle = true;\n      globalData.pathName = window.location.pathname;\n    }\n\n    // 判断是否显示音乐控制器\n    if (volantis.GLOBAL_CONFIG.plugins.aplayer?.enable\n      && typeof RightMenuAplayer !== 'undefined'\n      && RightMenuAplayer.APlayer.player !== undefined) {\n      if (rightMenuConfig.options.musicAlwaysShow\n        || RightMenuAplayer.APlayer.status === 'play'\n        || RightMenuAplayer.APlayer.status === 'undefined') {\n        globalData.isShowMusic = true;\n      }\n    }\n\n    // 设定校验状态\n    if (!!globalData.selectText || globalData.isInputBox || globalData.isLink || globalData.isMediaLink) {\n      globalData.statusCheck = true;\n    }\n  }\n\n  /**\n   * 全局右键监听函数\n   */\n  fn.contextmenu = () => {\n    window.document.oncontextmenu = (event) => {\n      if (event.ctrlKey || document.body.offsetWidth <= 500) {\n        fn.hideMenu();\n        return true;\n      }\n      return fn.menuPosition(event);\n    }\n\n    _rightMenuWrapper.oncontextmenu = (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      return false;\n    }\n\n    window.removeEventListener('blur', fn.hideMenu);\n    window.addEventListener('blur', fn.hideMenu);\n    document.body.removeEventListener('click', fn.hideMenu);\n    document.body.addEventListener('click', fn.hideMenu);\n  }\n\n  /**\n   * 菜单项事件处理函数\n   */\n  fn.menuEvent = () => {\n    _rightMenuList.forEach(item => {\n      let eventName = item.firstElementChild.getAttribute('data-event');\n      const id = item.firstElementChild.getAttribute('id');\n      const groupName = item.firstElementChild.getAttribute('data-group');\n      if (item.firstElementChild.nodeName === \"A\") return;\n      item.addEventListener('click', () => {\n        try {\n          if (RightMenus.defaultEvent.every(item => { return eventName !== item })) {\n            if (groupName === 'seletctText') {\n              RightMenusFunction[id](globalData.selectText)\n            } else if (groupName === 'elementCheck') {\n              RightMenusFunction[id](globalData.isLink ? globalData.linkUrl : globalData.mediaLinkUrl)\n            } else if (groupName === 'elementImage') {\n              RightMenusFunction[id](globalData.mediaLinkUrl)\n            } else {\n              RightMenusFunction[id]()\n            }\n          } else {\n            fn[eventName]()\n          }\n        } catch (error) {\n          if (volantis.GLOBAL_CONFIG.debug) {\n            console.error({\n              id: id,\n              error: error,\n              globalData: globalData,\n              groupName: groupName,\n              eventName: eventName\n            });\n          }\n          if (RightMenus.messageRightMenu) {\n            VolantisApp.message('错误提示', error, {\n              icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n              time: '15000'\n            });\n          }\n        }\n      })\n    })\n\n    if (_forward && _toggle && _forward) {\n      _backward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerBackward();\n      }\n      _toggle.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerToggle();\n      }\n      _forward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerForward();\n      }\n    }\n  }\n\n  /**\n   * 隐藏菜单显示\n   */\n  fn.hideMenu = () => {\n    _rightMenuWrapper.style.display = null;\n    _rightMenuWrapper.style.left = null;\n    _rightMenuWrapper.style.top = null;\n  }\n\n  /**\n   * 右键菜单覆盖提示\n   */\n  fn.menuNotic = () => {\n    const NoticeRightMenu = localStorage.getItem('NoticeRightMenu') === 'true';\n    if (RightMenus.messageRightMenu && !NoticeRightMenu)\n      VolantisApp.message('右键菜单', '唤醒原系统菜单请使用：<kbd>Ctrl</kbd> + <kbd>右键</kbd>', {\n        icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n        displayMode: 1,\n        time: 9000\n      }, () => {\n        localStorage.setItem('NoticeRightMenu', 'true')\n      });\n  }\n\n  fn.copyText = () => {\n    VolantisApp.utilWriteClipText(globalData.selectText)\n      .then(() => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.messageCopyright();\n        }\n      }).catch(e => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.message('系统提示', e, {\n            icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n            displayMode: 1,\n            time: 9000\n          });\n        }\n      })\n  }\n\n  fn.copyLink = () => {\n    VolantisApp.utilWriteClipText(globalData.linkUrl || globalData.mediaLinkUrl)\n      .then(() => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.messageCopyright();\n        }\n      }).catch(e => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.message('系统提示', e, {\n            icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n            displayMode: 1,\n            time: 9000\n          });\n        }\n      })\n  }\n\n  fn.copyAll = () => {\n    globalData.mouseEvent.target.select();\n  }\n\n  fn.copyPaste = async () => {\n    const result = await RightMenus.readClipboard() || '';\n    if (RightMenus.messageRightMenu && window.clipboardRead === false) {\n      VolantisApp.message('系统提示', '未授予剪切板读取权限！');\n    } else if (RightMenus.messageRightMenu && result === '') {\n      VolantisApp.message('系统提示', '仅支持复制文本内容！');\n    } else {\n      RightMenus.insertAtCaret(globalData.mouseEvent.target, result);\n    }\n  }\n\n  fn.copyCut = () => {\n    const statrPos = globalData.mouseEvent.target.selectionStart;\n    const endPos = globalData.mouseEvent.target.selectionEnd;\n    const inputStr = globalData.inputValue;\n    fn.copyText(globalData.selectText);\n    globalData.mouseEvent.target.value = inputStr.substring(0, statrPos) + inputStr.substring(endPos, inputStr.length);\n    globalData.mouseEvent.target.selectionStart = statrPos;\n    globalData.mouseEvent.target.selectionEnd = statrPos;\n    globalData.mouseEvent.target.focus();\n  }\n\n  fn.copyImg = () => {\n    if (volantis.GLOBAL_CONFIG.plugins.message.rightmenu.notice) {\n      VolantisApp.message('系统提示', '复制中，请等待。', {\n        icon: rightMenuConfig.options.iconPrefix + ' fa-images'\n      })\n    }\n    RightMenus.writeClipImg(globalData.mediaLinkUrl, e => {\n      if (RightMenus.messageRightMenu) {\n        VolantisApp.hideMessage();\n        VolantisApp.message('系统提示', '图片复制成功！', {\n          icon: rightMenuConfig.options.iconPrefix + ' fa-images'\n        });\n      }\n    }, (e) => {\n      console.error(e);\n      if (RightMenus.messageRightMenu) {\n        VolantisApp.hideMessage();\n        VolantisApp.message('系统提示', '复制失败：' + e, {\n          icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n          time: 9000\n        });\n      }\n    })\n  }\n\n  fn.printMode = () => {\n    if (window.location.pathname === globalData.pathName) {\n      if (RightMenus.messageRightMenu) {\n        const message = '是否打印当前页面？<br><em style=\"font-size: 80%\">建议打印时勾选背景图形</em><br>'\n        VolantisApp.question('', message, { time: 9000 }, () => { fn.printHtml() })\n      } else {\n        fn.printHtml()\n      }\n    }\n  }\n\n  fn.printHtml = () => {\n    if (volantis.isReadModel) fn.readMode();\n    DOMController.setAttribute('details', 'open', 'true');\n    DOMController.removeList([\n      '.cus-article-bkg', '.iziToast-overlay', '.iziToast-wrapper', '.prev-next',\n      'footer', '#l_header', '#l_cover', '#l_side', '#comments', '#s-top', '#BKG',\n      '#rightmenu-wrapper', '.nav-tabs', '.parallax-mirror', '.new-meta-item.share', 'div.footer'\n    ]);\n    DOMController.setStyleList([\n      ['body', 'backgroundColor', 'unset'], ['#l_main', 'width', '100%'], ['#post', 'boxShadow', 'none'],\n      ['#post', 'background', 'none'], ['#post', 'padding', '0'], ['h1', 'textAlign', 'center'],\n      ['h1', 'fontWeight', '600'], ['h1', 'fontSize', '2rem'], ['h1', 'marginBottom', '20px'],\n      ['.tab-pane', 'display', 'block'], ['.tab-content', 'borderTop', 'none'], ['.highlight>table pre', 'whiteSpace', 'pre-wrap'],\n      ['.highlight>table pre', 'wordBreak', 'break-all'], ['.fancybox img', 'height', 'auto'], ['.fancybox img', 'weight', 'auto']\n    ]);\n    setTimeout(() => {\n      window.print();\n      document.body.innerHTML = '';\n      window.location.reload();\n    }, 50);\n  }\n\n  fn.readMode = () => {\n    if (typeof ScrollReveal === 'function') ScrollReveal().clean('#comments');\n    DOMController.fadeToggleList([\n      document.querySelector('#l_header'), document.querySelector('footer'),\n      document.querySelector('#s-top'), document.querySelector('.article-meta#bottom'),\n      document.querySelector('.prev-next'), document.querySelector('#l_side'),\n      document.querySelector('#comments')\n    ]);\n    DOMController.toggleClassList([\n      [document.querySelector('#l_main'), 'common_read'], [document.querySelector('#l_main'), 'common_read_main'],\n      [document.querySelector('#l_body'), 'common_read'], [document.querySelector('#safearea'), 'common_read'],\n      [document.querySelector('#pjax-container'), 'common_read'], [document.querySelector('#read_bkg'), 'common_read_hide'],\n      [document.querySelector('h1'), 'common_read_h1'], [document.querySelector('#post'), 'post_read'],\n      [document.querySelector('#l_cover'), 'read_cover'], [document.querySelector('.widget.toc-wrapper'), 'post_read']\n    ]);\n    DOMController.setStyle('.copyright.license', 'margin', '15px 0');\n    volantis.isReadModel = volantis.isReadModel === undefined ? true : !volantis.isReadModel;\n    if (volantis.isReadModel) {\n      if (RightMenus.messageRightMenu) VolantisApp.message('系统提示', '阅读模式已开启，您可以点击屏幕空白处退出。', {\n        backgroundColor: 'var(--color-read-post)',\n        icon: rightMenuConfig.options.iconPrefix + ' fa-book-reader',\n        displayMode: 1,\n        time: 5000\n      });\n      document.querySelector('#l_body').removeEventListener('click', fn.readMode);\n      document.querySelector('#l_body').addEventListener('click', (event) => {\n        if (DOMController.hasClass(event.target, 'common_read')) {\n          fn.readMode();\n        }\n      });\n    } else {\n      document.querySelector('#l_body').removeEventListener('click', fn.readMode);\n      document.querySelector('#post').removeEventListener('click', fn.readMode);\n      DOMController.setStyle('.prev-next', 'display', 'flex');\n      DOMController.setStyle('.copyright.license', 'margin', '15px -40px');\n    }\n  }\n\n  return {\n    init: fn.initEvent,\n    hideMenu: fn.hideMenu,\n    readMode: fn.readMode\n  }\n})()\n\nObject.freeze(RightMenus);\nvolantis.requestAnimationFrame(() => {\n  if (document.readyState !== 'loading') {\n    RightMenus.initialMenu();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      RightMenus.initialMenu();\n    })\n  }\n});\n"]}